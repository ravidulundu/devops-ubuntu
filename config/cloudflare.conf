# Cloudflare Configuration for Dynamic IP Whitelisting
# =====================================================
# Configuration file for Cloudflare API integration
# Used by security module for dynamic IP whitelisting

# Cloudflare API Settings
CLOUDFLARE_API_TOKEN=""
CLOUDFLARE_ZONE_ID=""
CLOUDFLARE_EMAIL=""

# Domain Configuration  
CLOUDFLARE_DOMAIN="ip.dulundu.tools"
CLOUDFLARE_RECORD_TYPE="A"
CLOUDFLARE_TTL=300

# API Endpoints
CLOUDFLARE_API_BASE="https://api.cloudflare.com/v4"
CLOUDFLARE_ZONES_ENDPOINT="/zones"
CLOUDFLARE_DNS_ENDPOINT="/dns_records"

# Rate Limiting
CLOUDFLARE_API_RATE_LIMIT=1200
CLOUDFLARE_API_WINDOW=300

# Backup DNS Providers (fallback)
BACKUP_DNS_PROVIDER=""
BACKUP_API_TOKEN=""

# Logging
CLOUDFLARE_LOG_LEVEL="INFO"
CLOUDFLARE_LOG_FILE="${LOG_DIR:-/var/log/wp-automation}/cloudflare.log"

# Error Handling
CLOUDFLARE_RETRY_ATTEMPTS=3
CLOUDFLARE_RETRY_DELAY=5
CLOUDFLARE_TIMEOUT=30

# Security
CLOUDFLARE_VERIFY_SSL=true
CLOUDFLARE_USER_AGENT="WordPress-Server-Automation/1.0"

# Instructions:
# 1. Get your Cloudflare API token:
#    - Log into Cloudflare Dashboard
#    - Go to My Profile > API Tokens
#    - Create token with Zone:Edit permissions
#    - Copy token to CLOUDFLARE_API_TOKEN
#
# 2. Get your Zone ID:
#    - Select your domain in Cloudflare Dashboard  
#    - Copy Zone ID from right sidebar API section
#    - Set CLOUDFLARE_ZONE_ID
#
# 3. Set your domain:
#    - Update CLOUDFLARE_DOMAIN with your domain name
#    - This should match the A record you want to update
#
# 4. Test configuration:
#    - Run: ./modules/security.sh to test connectivity
#    - Check logs for any authentication errors